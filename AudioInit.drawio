<mxfile host="app.diagrams.net" modified="2022-10-14T06:54:39.034Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36" etag="HtABWZp8ho_qnQSK9Q55" version="20.4.0" type="github">
  <diagram id="Q2Vyc0Jkks-q41Z9ZYLg" name="Page-1">
    <mxGraphModel dx="1887" dy="889" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-104" value="遍历" style="shape=umlFrame;whiteSpace=wrap;html=1;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="810" y="2150" width="3680" height="1500" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-124" value="遍历" style="shape=umlFrame;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="820" y="2450" width="3590" height="990" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-5" value="main_audioserver" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="10" y="20" width="100" height="1340" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-7" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioFlinger&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;instantiate&lt;/span&gt;()&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="4Lxe1TsI7TAiDCn0mgUu-5" target="4Lxe1TsI7TAiDCn0mgUu-6" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="50" y="80" as="sourcePoint" />
            <mxPoint x="110" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-26" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;AudioPolicyService::&lt;span style=&quot;color: #61afef;&quot;&gt;instantiate&lt;/span&gt;()&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-5" target="4Lxe1TsI7TAiDCn0mgUu-25" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="50" y="750" as="sourcePoint" />
            <mxPoint x="110" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-6" value="BinderService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="390" y="20" width="100" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-8" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="4Lxe1TsI7TAiDCn0mgUu-6" vertex="1">
          <mxGeometry x="50" y="120" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-9" value="publish()" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" parent="4Lxe1TsI7TAiDCn0mgUu-6" target="4Lxe1TsI7TAiDCn0mgUu-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="55" y="100" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="85" y="100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-10" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioFlinger&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="210" y="20" width="100" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-12" value="&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; color: rgb(229, 192, 123);&quot;&gt;AudioFlinger&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; color: rgb(97, 175, 239);&quot;&gt;onFirstRef&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="4Lxe1TsI7TAiDCn0mgUu-10" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="-60" y="380" as="sourcePoint" />
            <mxPoint x="50" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-24" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;PatchPanel&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;this&lt;/span&gt;)&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-10" target="4Lxe1TsI7TAiDCn0mgUu-23" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="50" y="410" as="sourcePoint" />
            <mxPoint x="110" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-13" value="会创建AudioFlinger，并将其添加到系统服务中" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="460" y="150" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-15" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioFlinger&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;AudioFlinger&lt;/span&gt;()&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-6" target="4Lxe1TsI7TAiDCn0mgUu-10" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="330" y="190" as="sourcePoint" />
            <mxPoint x="390" y="190" as="targetPoint" />
            <Array as="points">
              <mxPoint x="370" y="160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-17" value="构造函数中创建&lt;span style=&quot;color: rgb(224, 108, 117); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;mDevicesFactoryHal=&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; color: rgb(229, 192, 123);&quot;&gt;DevicesFactoryHalInterface&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; color: rgb(97, 175, 239);&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;();&lt;/span&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-10" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="400" y="270" as="sourcePoint" />
            <mxPoint x="649.5" y="230" as="targetPoint" />
            <Array as="points">
              <mxPoint x="530" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-19" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;DevicesFactoryHalHybrid&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="540" y="20" width="220" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-18" value="构造函数中创建&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; color: rgb(229, 192, 123);&quot;&gt;EffectsFactoryHalInterface&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; color: rgb(97, 175, 239);&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;()&lt;/span&gt;&lt;/span&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-21" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="260" y="290" as="sourcePoint" />
            <mxPoint x="360" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-21" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;EffectsFactoryHalHidl&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="790" y="20" width="170" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-23" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;PatchPanel&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="990" y="20" width="100" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-25" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyService&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="175" y="700" width="170" height="2660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-27" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-25" vertex="1">
          <mxGeometry x="85" y="120" width="10" height="280" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-28" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyService&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;onFirstRef&lt;/span&gt;()&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#000000;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-25" target="4Lxe1TsI7TAiDCn0mgUu-27" edge="1">
          <mxGeometry x="-1" y="78" relative="1" as="geometry">
            <mxPoint x="80" y="110" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="110" />
            </Array>
            <mxPoint x="-75" y="58" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-31" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mTonePlaybackThread,&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mAudioCommandThread,&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mOutputCommandThread&lt;/span&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-25" target="4Lxe1TsI7TAiDCn0mgUu-30" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="95" y="210" as="sourcePoint" />
            <mxPoint x="145" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-35" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPolicyManager&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;mAudioPolicyClient&lt;/span&gt;)-&amp;gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;AudioPolicyManager&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;clientInterface&lt;/span&gt;&lt;span style=&quot;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-25" target="4Lxe1TsI7TAiDCn0mgUu-34" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="95" y="320" as="sourcePoint" />
            <mxPoint x="155" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-8" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioCommandThread&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPatchCommand&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="4Lxe1TsI7TAiDCn0mgUu-25" target="4Lxe1TsI7TAiDCn0mgUu-30">
          <mxGeometry x="0.0235" width="60" relative="1" as="geometry">
            <mxPoint x="85" y="2490" as="sourcePoint" />
            <mxPoint x="145" y="2490" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-30" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioCommandThread&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="425" y="700" width="140" height="2930" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-9" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;af&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPatch&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;data&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mPatch&lt;/span&gt;, &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;data&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mHandle&lt;/span&gt;);&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="4Lxe1TsI7TAiDCn0mgUu-30" target="4Lxe1TsI7TAiDCn0mgUu-108">
          <mxGeometry x="0.0002" width="60" relative="1" as="geometry">
            <mxPoint x="75" y="2520" as="sourcePoint" />
            <mxPoint x="135" y="2520" as="targetPoint" />
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-16" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="4Lxe1TsI7TAiDCn0mgUu-30">
          <mxGeometry x="60" y="2640" width="10" height="160" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-17" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioFlinger&lt;/span&gt;::&lt;span style=&quot;color: #e5c07b;&quot;&gt;MixerThread&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPatch_l&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                                          &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch_handle_t&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;handle&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" edge="1" target="IFrK-mQr86vFOBChCY2J-16" parent="4Lxe1TsI7TAiDCn0mgUu-30">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="65" y="2620" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="95" y="2620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-20" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;hwDevice&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPatch&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;num_sources&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                            &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;sources&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                            &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;num_sinks&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                            &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;sinks&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                            &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;handle&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontColor=#FFFFFF;" edge="1" parent="4Lxe1TsI7TAiDCn0mgUu-30" target="IFrK-mQr86vFOBChCY2J-18">
          <mxGeometry x="0.0001" width="60" relative="1" as="geometry">
            <mxPoint x="75" y="2710" as="sourcePoint" />
            <mxPoint x="135" y="2710" as="targetPoint" />
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-32" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyClient&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;(AudioPolicyService.h)&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="640" y="700" width="140" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-33" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyClient&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;this&lt;/span&gt;)&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;exitX=0.7;exitY=0.538;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-27" target="4Lxe1TsI7TAiDCn0mgUu-32" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="290" y="980" as="sourcePoint" />
            <mxPoint x="330" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-34" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManager&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="825" y="700" width="155" height="3160" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-40" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" vertex="1">
          <mxGeometry x="67" y="360" width="10" height="2160" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-41" value="构造函数" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" vertex="1">
          <mxGeometry x="37" y="330" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-42" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;mVolumeCurves&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #61afef;&quot;&gt;VolumeCurvesCollection&lt;/span&gt;())&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-36" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="75" y="390" as="sourcePoint" />
            <mxPoint x="135" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-43" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;mConfig&lt;/span&gt;(mHwModulesAll, mAvailableOutputDevices, mAvailableInputDevices,&lt;/div&gt;&lt;div&gt;            mDefaultOutputDevice, static_cast&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;lt;&lt;/span&gt;VolumeCurvesCollection&lt;span style=&quot;color: #c678dd;&quot;&gt;*&amp;gt;&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;mVolumeCurves&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;get&lt;/span&gt;()))&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-44" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="75" y="450" as="sourcePoint" />
            <mxPoint x="135" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-45" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" vertex="1">
          <mxGeometry x="71.94" y="495" width="10" height="115" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-46" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManager&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;loadConfig&lt;/span&gt;()&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="76.94" y="475" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="106.94" y="475" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-47" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" vertex="1">
          <mxGeometry x="77" y="540" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-48" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;deserializeAudioPolicyXmlConfig&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyConfig&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;config&lt;/span&gt;)&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="82" y="520" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="112" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-50" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;如果上面的xml加载失败，则调用setDefault&lt;/span&gt;()&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-44" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="75" y="600" as="sourcePoint" />
            <mxPoint x="135" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-83" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" vertex="1">
          <mxGeometry x="71.94" y="1150" width="10" height="1590" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-84" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManager&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;initialize&lt;/span&gt;()&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-83" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="76.94000000000005" y="1130" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="106.94000000000005" y="1130" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-85" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;engineInstance&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_policy&lt;/span&gt;::&lt;span style=&quot;color: #e5c07b;&quot;&gt;EngineInstance&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;getInstance&lt;/span&gt;();&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-79" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="75" y="1190" as="sourcePoint" />
            <mxPoint x="135" y="1190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-100" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mEngine&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;setObserver&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;this&lt;/span&gt;);（&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;AudioPolicyManagerObserver&lt;/span&gt;）&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-86" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="75" y="1400" as="sourcePoint" />
            <mxPoint x="135" y="1400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-21" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;labelBackgroundColor=#000000;fontColor=#FFFFFF;" vertex="1" parent="4Lxe1TsI7TAiDCn0mgUu-34">
          <mxGeometry x="72" y="2810" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-22" value="&lt;pre style=&quot;text-align: center; box-sizing: border-box; max-width: 1000px; font-size: 14px; margin-top: 0px; margin-bottom: 1rem; overflow: auto; padding: 0.5em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; line-height: 1.2em !important;&quot; class=&quot;hljs php&quot;&gt;&lt;font face=&quot;Droid Sans Mono, monospace, monospace&quot; color=&quot;#e5c07b&quot;&gt;检测所有的输入和输出设备，是否已经绑定对应的输入和输出流，没有则从列表中移除。&lt;/font&gt;&lt;/pre&gt;&lt;pre style=&quot;text-align: center; box-sizing: border-box; max-width: 1000px; font-size: 14px; margin-top: 0px; margin-bottom: 1rem; overflow: auto; padding: 0.5em; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; line-height: 1.2em !important;&quot; class=&quot;hljs php&quot;&gt;&lt;font face=&quot;Droid Sans Mono, monospace, monospace&quot; color=&quot;#e5c07b&quot;&gt;确保默认的输出设备和输入设备可用&lt;/font&gt;&lt;/pre&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=0;endArrow=block;rounded=0;entryX=1;entryY=0;fontColor=#FFFFFF;fillColor=#f5f5f5;strokeColor=#666666;labelBorderColor=default;labelBackgroundColor=#000000;spacing=0;" edge="1" target="IFrK-mQr86vFOBChCY2J-21" parent="4Lxe1TsI7TAiDCn0mgUu-34">
          <mxGeometry x="0.3301" y="8" relative="1" as="geometry">
            <mxPoint x="77" y="2790" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="107" y="2790" />
            </Array>
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-36" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;VolumeCurvesCollection&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;(VolumeCurve.h)&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1019" y="700" width="220" height="660" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-49" value="加载&lt;span style=&quot;color: rgb(152, 195, 121); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;audio_policy_configuration.xml&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-36" vertex="1">
          <mxGeometry x="-60" y="540" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-44" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyConfig&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1275" y="700" width="160" height="1900" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-51" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" vertex="1">
          <mxGeometry x="75" y="590" width="10" height="540" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-53" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;初始化默认的输出设备new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceDescriptor&lt;/span&gt;(&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_DEVICE_OUT_SPEAKER&lt;/span&gt;)&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-52" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="80" y="650" as="sourcePoint" />
            <mxPoint x="140" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-54" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;初始化默认的输入设备new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceDescriptor&lt;/span&gt;(&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_DEVICE_IN_BUILTIN_MIC&lt;/span&gt;);&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-52" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="80" y="690" as="sourcePoint" />
            <mxPoint x="140" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-55" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" vertex="1">
          <mxGeometry x="85" y="760" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-56" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mAvailableOutputDevices&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;mDefaultOutputDevices&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: #e06c75;&quot;&gt;mAvailableInputDevices&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;defaultInputDevice&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-55" edge="1">
          <mxGeometry x="-1" y="151" relative="1" as="geometry">
            <mxPoint x="80" y="740" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="110" y="740" />
            </Array>
            <mxPoint x="-150" y="131" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-58" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;module&lt;/span&gt; &lt;span style=&quot;color: #61afef;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;HwModule&lt;/span&gt;(&lt;span style=&quot;color: #d19a66;&quot;&gt;AUDIO_HARDWARE_MODULE_ID_PRIMARY&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-57" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="80" y="830" as="sourcePoint" />
            <mxPoint x="140" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-61" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt; &lt;span style=&quot;color: #61afef;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;OutputProfile&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;String8&lt;/span&gt;(&lt;span style=&quot;color: #98c379;&quot;&gt;&quot;primary&quot;&lt;/span&gt;));&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-59" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="80" y="880" as="sourcePoint" />
            <mxPoint x="140" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-68" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt; &lt;span style=&quot;color: #61afef;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;InputProfile&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;String8&lt;/span&gt;(&lt;span style=&quot;color: #98c379;&quot;&gt;&quot;primary&quot;&lt;/span&gt;));&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-60" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="80" y="940" as="sourcePoint" />
            <mxPoint x="140" y="940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-71" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" source="4Lxe1TsI7TAiDCn0mgUu-69" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="230" y="930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-69" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;sp&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;InputProfile&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;InputProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;String8&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #98c379;&quot;&gt;&quot;primary&quot;&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;attach&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;module&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;addAudioProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_FORMAT_PCM_16_BIT&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_CHANNEL_IN_MONO&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #d19a66;&quot;&gt;8000&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;addSupportedDevice&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;defaultInputDevice&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;module&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;addInputProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;inProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" vertex="1">
          <mxGeometry x="-480" y="940" width="530" height="180" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-77" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" vertex="1">
          <mxGeometry x="85" y="1050" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-78" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;mHwModules&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;module&lt;/span&gt;);&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-44" target="4Lxe1TsI7TAiDCn0mgUu-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="90" y="1030" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="120" y="1030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-52" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceDescriptor&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1470" y="700" width="130" height="1250" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-57" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;HwModule&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1680" y="700" width="120" height="3020" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-59" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;OutputProfile&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1850" y="700" width="100" height="2180" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-60" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;InputProfile&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="2000" y="700" width="100" height="2180" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-62" value="保存到可用的设备列表中" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="1040" y="1405" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-67" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-66" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1410" y="1570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-66" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;sp&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;OutputProfile&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;OutputProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;String8&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #98c379;&quot;&gt;&quot;primary&quot;&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;attach&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;module&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;addAudioProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_FORMAT_PCM_16_BIT&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_CHANNEL_OUT_STEREO&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #d19a66;&quot;&gt;44100&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;addSupportedDevice&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mDefaultOutputDevices&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;setFlags&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_OUTPUT_FLAG_PRIMARY&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;module&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;addOutputProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #abb2bf;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="780" y="1460" width="530" height="190" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-79" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;EngineInstance&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="2160" y="700" width="110" height="1530" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-91" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-79" vertex="1">
          <mxGeometry x="50" y="1230" width="10" height="140" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-94" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;getEngine&lt;/span&gt;()-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;queryInterface&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManagerInterface&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;gt;&lt;/span&gt;()&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-79" target="4Lxe1TsI7TAiDCn0mgUu-86" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="60" y="1250" as="sourcePoint" />
            <mxPoint x="120" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-86" value="Engine" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="2330" y="700" width="100" height="1500" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-92" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mEngine&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;engineInstance&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;queryInterface&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManagerInterface&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;gt;&lt;/span&gt;();&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-34" target="4Lxe1TsI7TAiDCn0mgUu-91" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="985" y="2000" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="1100" y="1930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-93" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-91" target="4Lxe1TsI7TAiDCn0mgUu-34" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1080" y="2063" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-99" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManagerInterface&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mEngine&lt;/span&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-93" vertex="1" connectable="0">
          <mxGeometry x="-0.0392" y="-9" relative="1" as="geometry">
            <mxPoint x="-19" y="-24" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-95" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;ManagerInterfaceImpl&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;AudioPolicyManagerInterface&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;(Engine.h)&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="2490" y="700" width="370" height="1500" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-101" value="AudioManagerInterface只是代理类，&lt;br&gt;所有的功能实现全部调用的是Engine" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#333333;" parent="4Lxe1TsI7TAiDCn0mgUu-95" vertex="1">
          <mxGeometry x="90" y="1110" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-97" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManagerInterface&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;Engine&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;queryInterface&lt;/span&gt;()&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-86" target="4Lxe1TsI7TAiDCn0mgUu-95" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="2450" y="1990" as="sourcePoint" />
            <mxPoint x="2510" y="1990" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2510" y="1980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-98" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManagerInterface&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mManagerInterface&lt;/span&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#333333;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-95" target="4Lxe1TsI7TAiDCn0mgUu-79" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2320" y="1850" as="sourcePoint" />
            <mxPoint x="2240" y="1850" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2470" y="2030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-102" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyClient&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(152, 195, 121);&quot;&gt;AudioPolicyClientImpl&lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;.h)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="2930" y="700" width="205" height="2540" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-105" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;for&lt;/span&gt; (&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;auto&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;hwModule&lt;/span&gt; : &lt;span style=&quot;color: #e06c75;&quot;&gt;mHwModulesAll&lt;/span&gt;)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=none;" parent="1" vertex="1">
          <mxGeometry x="860" y="2150" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-106" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mpClientInterface&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;loadHwModule&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;hwModule&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;getName&lt;/span&gt;())&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=none;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-102" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="910" y="2210" as="sourcePoint" />
            <mxPoint x="970" y="2210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-108" value=":&lt;span style=&quot;color: rgb(229, 192, 123); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;AudioFlinger&lt;/span&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=none;" parent="1" vertex="1">
          <mxGeometry x="3190" y="700" width="100" height="2800" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-109" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioFlinger&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;loadHwModule_l&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;char&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;name&lt;/span&gt;)&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=none;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=none;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-112" target="4Lxe1TsI7TAiDCn0mgUu-108" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="3040" y="2250" as="sourcePoint" />
            <mxPoint x="3070" y="2250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3170" y="2250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-114" value="&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;audio_module_handle_t&lt;/span&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-112" target="4Lxe1TsI7TAiDCn0mgUu-34" edge="1">
          <mxGeometry x="-0.0035" y="-10" relative="1" as="geometry">
            <mxPoint x="3165" y="2386" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2070" y="2310" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-112" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="3235" y="2240" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-115" value="" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=none;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=none;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-112" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="3040" y="2250" as="sourcePoint" />
            <mxPoint x="3239.5" y="2250" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-117" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;hwModule&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;setHandle&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;mpClientInterface&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;loadHwModule&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;hwModule&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;getName&lt;/span&gt;()));&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-57" edge="1">
          <mxGeometry x="0.0127" width="60" relative="1" as="geometry">
            <mxPoint x="910" y="2350" as="sourcePoint" />
            <mxPoint x="960" y="2340" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-120" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="902" y="2430" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-121" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mHwModules&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;push_back&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;hwModule&lt;/span&gt;);&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-120" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="907" y="2410" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="937" y="2410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-122" value="添加到可用列表中" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="985" y="2380" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-123" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;SwAudioOutputDescriptor&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#e5c07b&quot;&gt;：&lt;/font&gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;public&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;AudioPortConfig&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="3365" y="700" width="215" height="2200" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-110" value="&lt;font style=&quot;background-color: rgb(0, 0, 0);&quot; color=&quot;#ffffff&quot;&gt;1、先从mAudioHwDevs中查找，如果找到模块则直接返回&lt;br&gt;2、通过初始化创建的&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;mDevicesFactoryHal&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;openDevice&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; font-style: italic;&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;)打开模块&lt;br&gt;3、如果是第一次打开，将HAL提供的初始值作为主音量&lt;br&gt;4、获取唯一的audio_module_handle_t&lt;br&gt;5、&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;mAudioHwDevs&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;handle&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;AudioHwDevice&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;handle&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; font-style: italic;&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;flags&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;))&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;，并返回audio_module_handle_t&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=none;" parent="4Lxe1TsI7TAiDCn0mgUu-123" vertex="1">
          <mxGeometry x="-150" y="1540" width="580" height="130" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-125" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;for&lt;/span&gt; (&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;auto&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt; : &lt;span style=&quot;color: #e06c75;&quot;&gt;hwModule&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;getOutputProfiles&lt;/span&gt;())&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="875" y="2450" width="490" height="30" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-127" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;SwAudioOutputDescriptor&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;,&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mpClientInterface&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-123" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="910" y="2520" as="sourcePoint" />
            <mxPoint x="970" y="2520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-130" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;IOProfile&lt;/span&gt; : &lt;span style=&quot;color: #c678dd;&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPort&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="3640" y="700" width="150" height="2200" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-132" value="&lt;span style=&quot;background-color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left; color: rgb(224, 108, 117);&quot;&gt;构造函数中调用，mPort&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left; color: rgb(97, 175, 239);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left; color: rgb(97, 175, 239);&quot;&gt;pickAudioProfile&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left; color: rgb(224, 108, 117);&quot;&gt;mSamplingRate&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left; color: rgb(224, 108, 117);&quot;&gt;mChannelMask&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left; color: rgb(224, 108, 117);&quot;&gt;mFormat&lt;/span&gt;&lt;span style=&quot;color: rgb(171, 178, 191); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; text-align: left;&quot;&gt;)&lt;/span&gt;&lt;/span&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-123" target="4Lxe1TsI7TAiDCn0mgUu-130" edge="1">
          <mxGeometry x="0.1667" y="10" width="60" relative="1" as="geometry">
            <mxPoint x="3520" y="2580" as="sourcePoint" />
            <mxPoint x="3580" y="2580" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3630" y="2560" />
            </Array>
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-133" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceVector&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;supportedDevices&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;outProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;getSupportedDevices&lt;/span&gt;();//获取输出列表&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceVector&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;devicesForType&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;supportedDevices&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;getDevicesFromType&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;profileType&lt;/span&gt;);//根据类型进行过滤&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #e5c07b;&quot;&gt;String8&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;address&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;devicesForType&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;size&lt;/span&gt;() &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #d19a66;&quot;&gt;0&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;devicesForType&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;itemAt&lt;/span&gt;(&lt;span style=&quot;color: #d19a66;&quot;&gt;0&lt;/span&gt;)&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mAddress&lt;/span&gt;&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: #c678dd;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;String8&lt;/span&gt;(&lt;span style=&quot;color: #98c379;&quot;&gt;&quot;&quot;&lt;/span&gt;);//获取设备地址&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_io_handle_t&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;output&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #56b6c2;&quot;&gt;AUDIO_IO_HANDLE_NONE&lt;/span&gt;;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-59" edge="1">
          <mxGeometry x="0.0005" width="80" relative="1" as="geometry">
            <mxPoint x="900" y="2570" as="sourcePoint" />
            <mxPoint x="980" y="2570" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-134" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;outputDesc&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;open&lt;/span&gt;(&lt;span style=&quot;color: #d19a66;&quot;&gt;nullptr&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;&quot;&gt;profileType&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;&quot;&gt;address&lt;/span&gt;,&lt;span style=&quot;color: rgb(86, 182, 194);&quot;&gt;AUDIO_STREAM_DEFAULT&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 182, 194);&quot;&gt;AUDIO_OUTPUT_FLAG_NONE&lt;/span&gt;, &lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;output&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-123" edge="1">
          <mxGeometry x="0.0022" width="60" relative="1" as="geometry">
            <mxPoint x="910" y="2620" as="sourcePoint" />
            <mxPoint x="970" y="2620" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-136" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mClientInterface&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;openOutput&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;&quot;&gt;mProfile&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;getModuleHandle&lt;/span&gt;(),&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;output&lt;/span&gt;,&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;lConfig&lt;/span&gt;,&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mDevice&lt;/span&gt;,&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;address&lt;/span&gt;,&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mLatency&lt;/span&gt;,&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mFlags&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-102" edge="1">
          <mxGeometry x="0.0027" width="60" relative="1" as="geometry">
            <mxPoint x="3470" y="2660" as="sourcePoint" />
            <mxPoint x="3530" y="2660" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-137" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioFlinger&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;openOutput&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_module_handle_t&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;module&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;audio_io_handle_t&lt;/span&gt; &lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;output&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;audio_config_t&lt;/span&gt; &lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;config&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;audio_devices_t&lt;/span&gt; &lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;devices&lt;/span&gt;,&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;String8&lt;/span&gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;address&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;uint32_t&lt;/span&gt; &lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;latencyMs&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;audio_output_flags_t&lt;/span&gt; &lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;flags&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-108" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="3030" y="2690" as="sourcePoint" />
            <mxPoint x="3090" y="2690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-141" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-138" target="4Lxe1TsI7TAiDCn0mgUu-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-138" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="3230" y="2760" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-139" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;sp&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;ThreadBase&lt;/span&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;thread&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #61afef;&quot;&gt;openOutput_l&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;module&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;output&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;config&lt;/span&gt;, &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;devices&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;address&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;flags&lt;/span&gt;);&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-138" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3235" y="2740" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="3265" y="2740" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-140" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;1、根据audio_module_handle_t从mAudioHwDevs找到之前打开的模块&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;2、初始化一个唯一&lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;audio_io_handle_t&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;3、打开模块的输出流，并获取输出流的操作函数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;4、创建对应的线程，传入相关属性，输出流函数，设备等等&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;5、&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;mPlaybackThreads&lt;/span&gt;&lt;span style=&quot;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;output&lt;/span&gt;&lt;span style=&quot;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117);&quot;&gt;thread&lt;/span&gt;&lt;span style=&quot;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;&quot;&gt;存储到列表中，以后通过audio_io_handle_t来获取指定线程&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="2730" y="2700" width="470" height="130" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-142" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_io_handle_t&lt;/span&gt; &lt;span style=&quot;color: #e06c75;&quot;&gt;output&lt;/span&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" edge="1">
          <mxGeometry x="0.0043" relative="1" as="geometry">
            <mxPoint x="3240" y="2840" as="sourcePoint" />
            <mxPoint x="910" y="2840" as="targetPoint" />
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-144" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;labelBackgroundColor=#FFFFFF;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="902" y="2920" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="4Lxe1TsI7TAiDCn0mgUu-145" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mOutputs&lt;/span&gt;.&lt;span style=&quot;color: #61afef;&quot;&gt;add&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;output&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;outputDesc&lt;/span&gt;);&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;==》&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;addOutput&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;audio_io_handle_t&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(224, 108, 117); font-style: italic;&quot;&gt;output&lt;/span&gt;&lt;span style=&quot;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;                                   &lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;sp&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;SwAudioOutputDescriptor&lt;/span&gt;&amp;gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;outputDesc&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;labelBackgroundColor=#000000;fontColor=#000000;" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-144" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="907" y="2900" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="937" y="2900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-3" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="1">
          <mxGeometry x="902" y="3010" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-4" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyManager&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;setOutputDevice&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;sp&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioOutputDescriptor&lt;/span&gt;&amp;gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;outputDesc&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                             &lt;span style=&quot;color: #56b6c2;&quot;&gt;audio_devices_t&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;device&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                             &lt;span style=&quot;color: #c678dd;&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;force&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                             &lt;span style=&quot;color: #c678dd;&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;delayMs&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                             &lt;span style=&quot;color: #56b6c2;&quot;&gt;audio_patch_handle_t&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patchHandle&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                             &lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;char&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;address&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                             &lt;span style=&quot;color: #c678dd;&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;requiresMuteCheck&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" edge="1" target="IFrK-mQr86vFOBChCY2J-3" parent="1">
          <mxGeometry x="0.3333" relative="1" as="geometry">
            <mxPoint x="907" y="2990" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="937" y="2990" />
            </Array>
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-5" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;1、创建struct&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;patch&lt;/span&gt;;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;2、创建&lt;span style=&quot;&quot;&gt;sp&lt;/span&gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt; AudioPatch&lt;/span&gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt; patchDesc;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;            &lt;span style=&quot;color: #56b6c2;&quot;&gt;audio_patch_handle_t&lt;/span&gt; afPatchHandle &lt;span style=&quot;color: #c678dd;&quot;&gt;=&lt;/span&gt; AUDIO_PATCH_HANDLE_NONE;&lt;/div&gt;&lt;div&gt;3、从现有的mAudioPatches中查找。&lt;/div&gt;&lt;div&gt;4、&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;mpClientInterface&lt;/span&gt;&lt;span style=&quot;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;createAudioPatch&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(198, 120, 221);&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;patch,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;                                                                   &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;afPatchHandle,&lt;/div&gt;&lt;div&gt;                                                                   delayMs);创建AudioPatch&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;5、outputDesc&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #61afef;&quot;&gt;setPatchHandle&lt;/span&gt;(&lt;span style=&quot;color: #e5c07b;&quot;&gt;patchDesc&lt;/span&gt;-&amp;gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mHandle&lt;/span&gt;);与output关联起来&lt;/div&gt;&lt;/div&gt;&lt;div&gt;5、添加更新到mAudioPatches中&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1550" y="2920" width="520" height="180" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-6" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyClient&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPatch&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                                                  &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch_handle_t&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;handle&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                                                  &lt;span style=&quot;color: #c678dd;&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;delayMs&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-102">
          <mxGeometry x="0.3478" width="60" relative="1" as="geometry">
            <mxPoint x="910" y="3100" as="sourcePoint" />
            <mxPoint x="970" y="3100" as="targetPoint" />
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-7" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;AudioPolicyService&lt;/span&gt;::&lt;span style=&quot;color: #61afef;&quot;&gt;clientCreateAudioPatch&lt;/span&gt;(&lt;span style=&quot;color: #c678dd;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                                &lt;span style=&quot;color: #e5c07b;&quot;&gt;audio_patch_handle_t&lt;/span&gt; &lt;span style=&quot;color: #c678dd;&quot;&gt;*&lt;/span&gt;&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;handle&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                                                &lt;span style=&quot;color: #c678dd;&quot;&gt;int&lt;/span&gt; &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;delayMs&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="1" target="4Lxe1TsI7TAiDCn0mgUu-25">
          <mxGeometry x="0.0034" width="60" relative="1" as="geometry">
            <mxPoint x="3030" y="3160" as="sourcePoint" />
            <mxPoint x="3090" y="3160" as="targetPoint" />
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-10" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;PatchPanel&lt;/span&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="3850" y="700" width="100" height="2830" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-11" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;mPatchPanel&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;createAudioPatch&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;, &lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;handle&lt;/span&gt;);&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-108" target="IFrK-mQr86vFOBChCY2J-10">
          <mxGeometry x="-0.088" width="60" relative="1" as="geometry">
            <mxPoint x="3120" y="3190" as="sourcePoint" />
            <mxPoint x="3180" y="3190" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3720" y="3260" />
            </Array>
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-15" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;thread&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #61afef;&quot;&gt;sendCreateAudioPatchConfigEvent&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;patch&lt;/span&gt;, &lt;span style=&quot;color: #c678dd;&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #e06c75;&quot;&gt;halHandle&lt;/span&gt;);&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="1" source="IFrK-mQr86vFOBChCY2J-10" target="4Lxe1TsI7TAiDCn0mgUu-30">
          <mxGeometry x="-0.4131" width="60" relative="1" as="geometry">
            <mxPoint x="3560" y="3410" as="sourcePoint" />
            <mxPoint x="3620" y="3410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2900" y="3300" />
            </Array>
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-18" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceHalHidl&lt;/span&gt; : &lt;span style=&quot;color: #c678dd;&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceHalInterface&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="4040" y="700" width="160" height="2980" as="geometry" />
        </mxCell>
        <mxCell id="IFrK-mQr86vFOBChCY2J-19" value="&lt;div style=&quot;color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); font-family: &amp;quot;Droid Sans Mono&amp;quot;, &amp;quot;monospace&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c678dd;&quot;&gt;dev = new&lt;/span&gt; &lt;span style=&quot;color: #e5c07b;&quot;&gt;DeviceHalHidl&lt;/span&gt;(&lt;span style=&quot;color: #e06c75;font-style: italic;&quot;&gt;result&lt;/span&gt;)&lt;/div&gt;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" edge="1" parent="1" source="4Lxe1TsI7TAiDCn0mgUu-110" target="IFrK-mQr86vFOBChCY2J-18">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="3250" y="2350" as="sourcePoint" />
            <mxPoint x="3350" y="2410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
